{% extends 'base.html' %}
{% load humanize %}
{% load static %}

{% block content %}
{% include 'navbar.html' %}

<body class="mn">
    <h1 class="header">~ Discover Your Radiant Beauty at Luxury Glow ~</h1>

    <div class="product-container">
        <div class="add-product-button">
            <a href="{% url 'main:create_product_entry' %}">
                <button class="add-product-btn">Add Product</button>
            </a>
{% block content %}
{% include 'navbar.html' %}
<head>
    <style>
        body {
            background-color: rgb(255, 253, 208);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
        }

        h1 {
            text-align: center;
            color: rgb(25, 112, 162);
            font-size: 36px;
            margin: 20px 0;
            width: 100%;
        }

        .description {
            text-align: center;
            font-size: 20px;
            color: rgb(161, 60, 161);
            margin: 20px 0;
        }

        button {
            background-color: rgb(37, 162, 83);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        button:hover {
            background-color: rgb(135, 193, 167);
        }
    </style>
</head>
<body>
    <h1>~ Discover Your Radiant Beauty at Luxury Glow ~</h1>

    <p class="description">
        Welcome to Luxury Glow, your premier destination for high-quality skincare and makeup products.
        Our mission is to help you embrace your natural beauty with our carefully curated collection of beauty products.
        Whether you're looking for the latest trends in skincare or timeless makeup essentials, we've got you covered.
        Join us on a journey to radiance and explore the luxury of self-care.
    </p>

    <a href="{% url 'main:show_products' %}">
        <button>View Products</button>
    </a>

    <a href="{% url 'main:logout' %}">
        <button>Logout</button>
    </a>

    <h5>Sesi terakhir login: {{ last_login }}</h5>

    <div class="info-container">
        <div>
            <h5 class="title">App :</h5>
            <p class="content">{{ app }}</p>
        </div>
        <div class="info-container">
            {% if product_entries %}
            {% for product_entry in product_entries %}
            <div class="card">
                <img src="{{ product_entry.image.url }}" alt="{{ product_entry.name }} Image">
                <h5>{{ product_entry.name }}</h5>
                <p><b>Price:</b> Rp {{ product_entry.price|floatformat:0|intcomma }}</p>
                <div class="description-container">
                    <p class="description">
                        <b>Description:</b> 
                        <span class="description-text" style="display: none;">{{ product_entry.description }}</span>
                        <span class="see-more" onclick="toggleDescription(event)">See Description</span>
                    </p>
                </div>                           
                <p><b>Shade Name:</b> {{ product_entry.shade_name }}</p>
                <p><b>Stock Quantity:</b> {{ product_entry.stock_quantity }}</p>
                <div class="button-container">
                    {% if product_entry.pk %}
                    <a href="{% url 'main:edit_product' product_entry.pk %}">
                        <button>
                            <i class="fas fa-pencil-alt" style="font-size: 20px; color: white;"></i>
                        </button>
                    </a>
                    <a href="{% url 'main:delete_product' product_entry.pk %}">
                        <button>
                            <i class="fas fa-trash" style="font-size: 20px; color: white;"></i>
                        </button>
                    </a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
            {% else %}
            <div class="no-products">
                <h2>Produk belum tersedia, harap input produk.</h2>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="footer-info">
        <p><b>Sesi terakhir login:</b> {{ last_login }}</p>
        <p><b>App</b> : {{ app }} | <b>Name</b> : {{ name }} | <b>Kelas</b> : {{ kelas }}</p>
    </div>

    <script>
        function toggleDescription(event) {
            event.preventDefault();
            const descriptionText = event.target.previousElementSibling;
            const seeMoreLink = event.target;

            if (descriptionText.style.display === "none") {
                descriptionText.style.display = "inline";
                seeMoreLink.innerText = "Hide Description";
            } else {
                descriptionText.style.display = "none";
                seeMoreLink.innerText = "See Description";
            }
        }
    </script>

</body>

</body>

{% endblock content %}
